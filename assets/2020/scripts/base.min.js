var x,y=null,d=document,b=$("body")[0];function getCookie(){return d.cookie}function isHasAcceptedPolicy(){return null!=getCookie().match(/acceptedPolicy=true/)}async function acceptPolicy(){loadBeacon();var e=$("#policy-banner")[0];e.style.opacity=0,writeCookie("acceptedPolicy",!0),await sleep(1e3),e.style.display="none"}function writeCookie(e,t,o=14){var i=new Date;i.setTime(i.getTime()+24*o*3600*1e3),d.cookie=e+"="+t+"; expires="+i.toUTCString()+"; domain="+window.location.hostname+"; path=/"}function toggleTheme(){isHasAcceptedPolicy()&&($("body").toggleClass("dark-theme").toggleClass("light-theme"),writeCookie("darkTheme",$("body").hasClass("dark-theme")))}function toggleDyslexicFont(){isHasAcceptedPolicy()&&($("body").toggleClass("dyslexic"),writeCookie("dyslexic",$("body").hasClass("dyslexic")))}function loadYouTube(){for(var e=d.getElementsByClassName("youtube"),t=0;t<e.length;t++)e[t].innerHTML=d.getElementById(e[t].getAttribute("data-videoid")).innerHTML}function restoreSettingsFromCookie(){if(isHasAcceptedPolicy())null!=getCookie().match(/darkTheme=false/)&&($("#dark-mode").prop("checked",!0),toggleTheme()),null!=getCookie().match(/dyslexic=true/)&&($("#dyslexic").prop("checked",!0),toggleDyslexicFont()),null!=getCookie().match(/fontSize/)&&zoom(getCookie().match(/(^| )fontSize=([^;]+)/)[2]-12),acceptPolicy();else for(var e=$(".policy-banner"),t=0;t<e.length;t++)e[t].style.display="block"}function g(e){return e.touches}function touchStart(e){const t=g(e)[0];x=t.clientX,y=t.clientY}function touchMove(e){if(null!=x&&null!=y){var t=e.touches[0].clientX,o=e.touches[0].clientY,i=x-t,c=y-o;Math.abs(i)>11&&Math.abs(i)>2*Math.abs(c)&&loadPage(i>0?"next":"previous"),x=null,y=null}}function loadPage(e){var t=$("#"+e)[0].href;""!=t&&(window.location.href=t)}function zoom(e){if(isHasAcceptedPolicy()){var t=(parseInt(b.style.fontSize,10)||12)+e;t>20&&(t=22),t<12&&(t=10),b.style.fontSize=t+"pt",writeCookie("fontSize",t)}}function clearCookies(){writeCookie("acceptedPolicy","",-1),writeCookie("activateGoogleAnalytics","",-1),writeCookie("fontSize","",-1),writeCookie("darkTheme","",-1),writeCookie("condensed","",-1),writeCookie("dyslexic","",-1)}function sleep(e){return new Promise(t=>setTimeout(t,e))}async function setUpPageForUsers(){await sleep(200),window.matchMedia("only screen and (max-width: 760px)").matches&&(d.addEventListener("touchstart",touchStart,!1),d.addEventListener("touchmove",touchMove,!1),document.getElementById("mobile-top").scrollIntoView(!0),toggleAllAccordions()),d.getElementsByTagName("html")[0].className="animated",$("#dark-mode").change(toggleTheme),$("#dyslexic").change(toggleDyslexicFont)}function toggleAccordion(e){e.classList.toggle("inactive"),e.classList.toggle("active")}function toggleAllAccordions(){document.querySelectorAll(".inactive").forEach(e=>{toggleAccordion(e)})}function loadBeacon(){if(isHasAcceptedPolicy()){var e,t=d.getElementsByTagName("script")[0],o=(d.getElementsByTagName("html")[0],"beacon");d.getElementById(o)||((e=d.createElement("script")).id=o,e.src="https://static.crystaldown.de/proxy/cloudflare/beacon.min.js",t.parentNode.insertBefore(e,t))}}window.loadYouTube=loadYouTube,restoreSettingsFromCookie(),setUpPageForUsers();