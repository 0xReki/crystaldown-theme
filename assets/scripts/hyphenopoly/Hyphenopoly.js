(function(e){function c(b,c){return{configurable:0<(c&4),enumerable:0<(c&2),writable:0<(c&1),value:b}}function J(b){b.addEventListener("copy",function(b){b.preventDefault();var c=e.getSelection(),p=c.getRangeAt(0).cloneContents(),n=document.createElement("div");n.appendChild(p);p=n.innerHTML;b.clipboardData.setData("text/plain",c.toString().replace(new RegExp(r,"g"),""));b.clipboardData.setData("text/html",p.replace(new RegExp(r,"g"),""))},!0)}var r=String.fromCharCode(173);Math.imul=Math.imul||function(b,
c){var k=b&65535,e=c&65535;return k*e+((b>>>16&65535)*e+k*(c>>>16&65535)<<16>>>0)|0};(function(b){var e=Object.create(null,{defaultLanguage:c("en-us",2),dontHyphenate:c(function(){var b=Object.create(null);"abbr acronym audio br button code img input kbd label math option pre samp script style sub sup svg textarea var video".split(" ").forEach(function(c){b[c]=!0});return b}(),2),dontHyphenateClass:c("donthyphenate",2),exceptions:c(Object.create(null),2),keepAlive:c(!0,2),normalize:c(!1,2),safeCopy:c(!0,
2),timeout:c(1E3,2)}),k=Object.create(e),p=Object.create(null,{compound:c("hyphen",2),hyphen:c(r,2),leftmin:c(0,2),leftminPerLang:c(0,2),minWordLength:c(6,2),orphanControl:c(1,2),rightmin:c(0,2),rightminPerLang:c(0,2)});Object.keys(b.setup).forEach(function(n){if("selectors"===n)n=Object.keys(b.setup.selectors),Object.defineProperty(k,"selectors",c(n,2)),n.forEach(function(e){var n=Object.create(null);Object.keys(b.setup.selectors[e]).forEach(function(k){n[k]=c(b.setup.selectors[e][k],2)});Object.defineProperty(k,
e,c(Object.create(p,n),2))});else if("dontHyphenate"===n){var u=Object.create(null);Object.keys(b.setup.dontHyphenate).forEach(function(e){u[e]=c(b.setup.dontHyphenate[e],2)});Object.defineProperty(k,n,c(Object.create(e.dontHyphenate,u),3))}else Object.defineProperty(k,n,c(b.setup[n],3))});b.c=k})(Hyphenopoly);(function(b){function r(){var a=new Map,d=[0];return{add:function(b,f,c){b={element:b,selector:c};a.has(f)||a.set(f,[]);a.get(f).push(b);d[0]+=1;return b},counter:d,each:function(b){a.forEach(function(a,
d){b(d,a)})},list:a,rem:function(h){if(a.has(h)){var f=a.get(h).length;a["delete"](h);d[0]-=f;0===d[0]&&b.events.dispatch("hyphenopolyEnd")}}}}function k(a,b){try{return a.getAttribute("lang")?a.getAttribute("lang").toLowerCase():"html"===a.tagName.toLowerCase()?b?v:null:k(a.parentNode,b)}catch(h){return null}}function p(){function a(a,b){return a.lang&&"string"===typeof a.lang?a.lang.toLowerCase():b&&""!==b?b.toLowerCase():k(a,!0)}function d(h,g,c,m){m=m||!1;var e=a(h,g);"H9Y"===b.cf.langs[e]?(q.add(h,
e,c),!m&&l.safeCopy&&J(h)):b.cf.langs[e]||b.events.dispatch("error",{lvl:"warn",msg:"Element with '"+e+"' found, but '"+e+".hpb' not loaded. Check language tags!"});Array.prototype.forEach.call(h.childNodes,function(a){var b;if(b=1===a.nodeType)a.matches||(a.matches=a.msMatchesSelector||a.webkitMatchesSelector),b=!a.matches(f);b&&d(a,e,c,!0)})}q=r();var h=function(){var a="."+b.c.dontHyphenateClass,d=null;for(d in l.dontHyphenate)l.dontHyphenate[d]&&(a+=", "+d);return a}(),f=l.selectors.join(", ")+
", "+h;l.selectors.forEach(function(a){var b=e.document.querySelectorAll(a);Array.prototype.forEach.call(b,function(b){d(b,k(b,!0),a,!1)})});b.elementsReady=!0}function n(a,d,h){function f(b){var c=String.fromCharCode(8203),f=null,m=null;"auto"===g.compound||"all"===g.compound?(m=n(a,d,h),f=b.split("-").map(function(a){return a.length>=g.minWordLength?m(a):a}),b="auto"===g.compound?f.join("-"):f.join("-"+c)):b=b.replace("-","-"+c);return b}function c(c){var m=a.cache.get(h).get(c);m||(a.exceptions.has(c)?
m=a.exceptions.get(c).replace(/-/g,g.hyphen):-1===c.indexOf("-")?61<c.length?(b.events.dispatch("error",{lvl:"warn",msg:"found word longer than 61 characters"}),m=c):m=a.hyphenateFunction(c,e,g.leftminPerLang[d],g.rightminPerLang[d]):m=f(c),a.cache.get(h).set(c,m));return m}var g=l[h],e=g.hyphen;a.cache.set(h,new Map);w.set(d+"-"+h,c);return c}function u(a){function b(b,d,c,g){b=l[a];var h=b.hyphen;-1!==".\\+*?[^]$(){}=!<>|:-".indexOf(b.hyphen)&&(h="\\"+b.hyphen);3===b.orphanControl&&" "===d&&(d=
String.fromCharCode(160));return d+c.replace(new RegExp(h,"g"),"")+g}x.set(a,b);return b}function z(a,d,h){function c(a){a=p?a.normalize("NFC").replace(D,C):a.replace(D,C);1!==k.orphanControl&&(a=a.replace(/(\u0020*)(\S+)(\s*)$/,L));return a}function e(d){b.events.dispatch("beforeElementHyphenation",{el:d,lang:a});Array.prototype.forEach.call(d.childNodes,function(a){3===a.nodeType&&a.data.length>=m&&(a.data=c(a.data))});--q.counter[0];b.events.dispatch("afterElementHyphenation",{el:d,lang:a})}var g=
b.languages.get(a),k=l[d],m=k.minWordLength,p=l.normalize&&!!String.prototype.normalize,B=a+"-"+d,C=w.has(B)?w.get(B):n(g,a,d),L=x.has(d)?x.get(d):u(d),D=g.genRegExps.get(d);d=null;"string"===typeof h?d=c(h):h instanceof HTMLElement&&e(h);return d}function A(a,d){d?d.forEach(function(b){z(a,b.selector,b.element)}):b.events.dispatch("error",{lvl:"warn",msg:"engine for language '"+a+"' loaded, but no elements found."});0===q.counter[0]&&b.events.dispatch("hyphenopolyEnd")}function K(a){var b=new Map;
a.split(", ").forEach(function(a){var d=a.replace(/-/g,"");b.set(d,a)});return b}function M(a){b.languages||(b.languages=new Map);b.languages.has(a)||b.languages.set(a,Object.create(null));return b.languages.get(a)}function E(a,d,h,f,e){h=h.replace(/-/g,"");var g=M(a);g.engineReady||(g.cache=new Map,b.c.exceptions.global&&(b.c.exceptions[a]=b.c.exceptions[a]?b.c.exceptions[a]+(", "+b.c.exceptions.global):b.c.exceptions.global),b.c.exceptions[a]?(g.exceptions=K(b.c.exceptions[a]),delete b.c.exceptions[a]):
g.exceptions=new Map,g.genRegExps=new Map,g.leftmin=f,g.rightmin=e,g.hyphenateFunction=d,l.selectors.forEach(function(b){var d=l[b];0===d.leftminPerLang&&Object.defineProperty(d,"leftminPerLang",c(Object.create(null),2));0===d.rightminPerLang&&Object.defineProperty(d,"rightminPerLang",c(Object.create(null),2));d.leftminPerLang[a]=d.leftminPerLang[a]?Math.max(g.leftmin,d.leftmin,d.leftminPerLang[a]):Math.max(g.leftmin,d.leftmin);d.rightminPerLang[a]=d.rightminPerLang[a]?Math.max(g.rightmin,d.rightmin,
d.rightminPerLang[a]):Math.max(g.rightmin,d.rightmin);g.genRegExps.set(b,new RegExp("[\\w"+h+String.fromCharCode(8204)+"-]{"+d.minWordLength+",}","gi"))}),g.engineReady=!0);Hyphenopoly.events.dispatch("engineReady",{msg:a})}function N(a){if(b.cf.wasm)return 65536*Math.ceil(a/65536);var d=Math.ceil(Math.log(a)*Math.LOG2E);return 12>=d?4096:24>d?1<<d:16777216*Math.ceil(a/16777216)}function F(a){a=(new Uint32Array(a)).subarray(0,8);if(40005736!==a[0])throw b.events.dispatch("error",{lvl:"error",msg:"Pattern file format error: "+
new Uint8Array(Uint32Array.of(a[0]).buffer)}),Error("Pattern file format error!");var d=a[7];d=1280+d+(4-(1280+d)%4);var c=d+4*a[6];return{ho:c+512,hp:c+192,hs:Math.max(N(c+512+a[2]+a[3]),2097152),hw:c+256,lm:a[4],pl:a[3],po:c+512+a[2],pt:d,rm:a[5],to:c+512+a[1],tw:c+128,vs:1280,wo:c}}function G(a,d){var c=b.cf.wasm?a.wasmMemory.buffer:a.heapBuffer,f=(new Uint16Array(c)).subarray(a.wo>>1,(a.wo>>1)+64),e=a.lm,g=a.rm,l=(new Uint16Array(c)).subarray(a.hw>>1,(a.hw>>1)+128);f[0]=95;return function(a,b,
c,h){var k=0,m=a.charCodeAt(k);c=c||e;for(h=h||g;m;)k+=1,f[k]=m,m=a.charCodeAt(k);f[k+1]=95;f[k+2]=0;1===d(c,h)&&(a=y(l.subarray(1,l[0]+1)),"\u00ad"!==b&&(a=a.replace(/\u00AD/g,b)));return a}}function O(a){Promise.all([b.bins.get(a),b.bins.get("hyphenEngine")]).then(function(d){var c=d[0],f=F(c);d=d[1];var e=b.specMems.get(a),g=e.buffer.byteLength>=f.hs?e:new WebAssembly.Memory({initial:f.hs/65536,maximum:256});(new Uint32Array(g.buffer)).set(new Uint32Array(c),f.ho>>2);f.wasmMemory=g;WebAssembly.instantiate(d,
{env:{memory:f.wasmMemory,memoryBase:0},x:f}).then(function(b){var d=b.exports.convert();E(a,G(f,b.exports.hyphenate),y((new Uint16Array(g.buffer)).subarray(385,384+d)),f.lm,f.rm)})})}function P(a){var d=b.bins.get(a),c=F(d),f=b.specMems.get(a);f=f.byteLength>=c.hs?f:new ArrayBuffer(c.hs);var k=new Uint8Array(f);d=new Uint8Array(d);k.set(d,c.ho);c.heapBuffer=f;d=asmHyphenEngine({Int32Array:e.Int32Array,Math:Math,Uint16Array:e.Uint16Array,Uint8Array:e.Uint8Array},c,c.heapBuffer);k=d.convert();E(a,
G(c,d.hyphenate),y((new Uint16Array(f)).subarray(385,384+k)),c.lm,c.rm)}function H(a,b){"*"===a?("wasm"===b?t=O:"asm"===b&&(t=P),I.forEach(function(a){t(a)})):t?t(a):I.push(a)}var l=b.c,v=null,q=null,w=new Map,x=new Map;b.createHyphenator=function(a){return function(b,c){return z(a,c||".hyphenate",b)}};b.unhyphenate=function(){q.each(function(a,b){b.forEach(function(a){var b=a.element.firstChild;b.data=b.data.replace(new RegExp(l[a.selector].hyphen,"g"),"")})})};var y=function(){if(e.TextDecoder){var a=
new TextDecoder("utf-16le");return function(b){return a.decode(b)}}return function(a){return String.fromCharCode.apply(null,a)}}(),t=null,I=[];b.events.define("contentLoaded",function(){var a=e.document.getElementsByTagName("html")[0];v=k(a,!1);v||""===l.defaultLanguage||(v=l.defaultLanguage);p();b.events.dispatch("elementsReady")},!1);b.events.define("elementsReady",function(){q.each(function(a,c){b.languages&&b.languages.has(a)&&b.languages.get(a).engineReady&&A(a,c)})},!1);b.events.define("engineLoaded",
function(a){H("*",a.msg)},!1);b.events.define("hpbLoaded",function(a){H(a.msg,"*")},!1);b.events.addListener("loadError",function(a){"wasm"!==a.msg&&q.rem(a.name)},!1);b.events.define("engineReady",function(a){b.elementsReady&&A(a.msg,q.list.get(a.msg))},!1);b.events.define("hyphenopolyStart",null,!0);b.events.define("hyphenopolyEnd",function(){e.clearTimeout(l.timeOutHandler);"none"!==l.hide&&b.toggle("on");l.keepAlive||(window.Hyphenopoly=null)},!1);b.events.define("beforeElementHyphenation",null,
!0);b.events.define("afterElementHyphenation",null,!0);b.events.tempRegister.forEach(function(a){b.events.addListener(a.name,a.handler,!1)});delete b.events.tempRegister;b.events.dispatch("hyphenopolyStart",{msg:"Hyphenopoly started"});e.clearTimeout(b.c.timeOutHandler);Object.defineProperty(l,"timeOutHandler",c(e.setTimeout(function(){b.events.dispatch("timeout",{delay:l.timeout})},l.timeout),2));b.events.deferred.forEach(function(a){b.events.dispatch(a.name,a.data)});delete b.events.deferred})(Hyphenopoly)})(window);